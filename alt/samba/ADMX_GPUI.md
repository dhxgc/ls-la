## ADMX (GPUI)
> Источник 1: [[Вики]](https://www.altlinux.org/%D0%93%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B2%D1%8B%D0%B5_%D0%BF%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B8/%D0%A0%D0%B0%D0%B7%D0%B2%D1%91%D1%80%D1%82%D1%8B%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)

> Источник 2: [[Вики]](https://www.altlinux.org/%D0%93%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B2%D1%8B%D0%B5_%D0%BF%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B8), В НЕМ ЕСТЬ ИНСТРУКЦИИ ПО НАСТРОЙКЕ МНОГИХ ПОЛИТИК

> ЕСЛИ КАКАЯ-ТО ПОЛИТИКА НЕ РАБОТАЕТ - ТО ИДТИ В ЧАТ АЛЬТА, ТАМ СКОРЕЕ ВСЕГО УЖЕ ЕСТЬ РЕШЕНИЕ

---

#### __Общая информация__

---
 - Перед всем этим делом надо установить `gpui`
 - Работает все также как в винде. 
 - Кратко: ___В ADMC политики и их создание/удаление, в GPUI их изменение___
 - Есть КД, а есть ___админский ПК___, который находится в домене. ___С него___ уже все управляется через ADMC/GPUI

__Как работает__ применение политик:
 - Есть политики для ___пользователя___ и ___компьютера___
 - Политика применяется на OU.
 - Если настроить политику для ___компьютера___ в OU, в котором нет ПК - работать не будет.
 - Если настроить политику для ___пользователя___ в OU, в котором нет пользователей - работать не будет.
---

#### __Установка__

---

1. Шаблоны политик (надо установить и на КД, и на админский ПК):
```bash
apt-get install admx-basealt admx-yandex-browser admx-chromium admx-firefox admx-msi-setup

# Установить политики для винды:
admx-msi-setup

# Скопировать политики, чтобы были доступны по сети (только на КД)
samba-tool gpo admxload -U Administrator
```

---

#### __Использование__

---

1. Модуль для ЦУС:
```bash
apt-get install alterator-auth alterator-gpupdate
```

2. В ЦУС в `Групповые политики` выставить профиль `Workstation`
> хз чем профили отличаются

3. Создаем политики, настраиваем. Чтобы применить, посмотреть результат:
```bash
gpupdate --force
gpresult # Из под доменного юзера
```

---

#### ___Пример политики___

---

1. Чтобы разрешить на всех ПК в домене использовать `su` для доменных пользователей, надо:
    
    1.1 `Компютер -> Административные шаблоны -> Система ALT -> Безопасность -> Разрешения для /bin/su -> Включено/Любой пользователь` 
    > Лучше повесить на весь домен, чтобы потом не париться и не разрешать локально.

2. Автоматическая установка пакетов

    <br>

    2.1 `Компютер/Пользователь -> Административные шаблоны -> Система ALT -> Группые политики -> Экспериментальные групповые политики -> Включено`
    > Лучше повесить на весь домен, так как много политик не будут без нее работать.

    <br>
    
    2.2 `Компютер/Пользователь -> Административные шаблоны -> Система ALT -> Управление пакетами -> Установка пакетов -> Включено/Указать список пакетов` 
    
    <br>
    
    2.3 `Компютер/Пользователь -> Административные шаблоны -> Система ALT -> Управление пакетами -> Установка пакетов -> Включено`
    > Лучше ее включить, иначе пакет может долго ставится. В итоге система подвиснет, но сразу запустится процесс установки.
> Sources:<br> 
> [1 - Just usefull answers](https://www.reddit.com/r/linux4noobs/comments/g9kmcm/understanding_mbr_gpt_uefi_bios_and_grub/)<br>
> [2 - Old manual (GRUB 1.97)](https://rus-linux.net/MyLDP/boot/GRUB-bootloader-Full-tutorial.html)<br>
> [3 - Old manual (GRUB2)](https://www.dedoimedo.com/computers/grub-2.html)<br>
> [4 - Arch wiki](https://wiki.archlinux.org/title/GRUB_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_UEFI-%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA%D0%B0)

---

### Кратко
Состоит из скриптов и конфигов.
- скрипты - `/etc/grub.d/`;
- конфига - `/etc/default/grub`;

При обновлении через `grub-customizer` или `update-grub` выполняются скрипты с учетом настроек в конфиге, результат валяется в `/boot/` (MBR + BIOS) или в `/boot/efi` (GPT + UEFI).

---

### Процесс работы
UEFI/BIOS запускаются и ищут загрузочные разделы. В случае BIOS - в MBR, в порядке, указанном при загрузке. В случае UEFI - на загрузочных разделах (создаются ручками при установке ОС, с флагом `boot` и `esp`, в FAT32).

Далее, UEFI запускает специальный исполняемый файл (`.efi`). Этот файл, в свою очередь, создается из конфигов, которые лежат в `/boot/efi/grub` (которые создаются из скриптов). Уже там указаны все ОС, какие ядра им грузить, где что лежит и как это все должно выглядеть. Этот `.efi` файл и загружает само ядро с нужными параметрами, в котором уже потом запускается система инициализации. По факту, этот файл и является загрузчиком ОС.

В случае BIOS, файла `.efi` нет, его заменяет код, который лежит в MBR разделе.
> ***MBR (Master Boot Record)*** - раздел на жестком диске (один), расположенный в самом начале и имеющий размер 512 байт. 446 байт - основной загрузчик и 64 байта под таблицу разделов (описывает, какие ваще разделы именно НА ЭТОМ диске есть). Эти 446 байт в случае первых версий GRUB'а заменяются на код GRUB. Что в GRUB2 - неизвестно, может все ровно также.

Из-за маленьких объемов MBR, в нем располагается только ссылка на следующую стадию (т.е., такой же отдельный раздел), в котором уже происходят действия, похожие на загрузку UEFI (но без как такого отдельного исполняемого файла).

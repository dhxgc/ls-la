> –û—Ç–≤–µ—Ç –æ—Ç –ò–ò

–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç –ø—Ä–æ—Å—Ç–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å `setfacl` –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö ‚Äî –∫–∞–∫ ¬´–¥–ª—è —á–∞–π–Ω–∏–∫–æ–≤¬ª üòä

---

### **1. –ß—Ç–æ —Ç–∞–∫–æ–µ ACL?**
- **ACL (Access Control List)** ‚Äî —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º/–ø–∞–ø–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ø–æ–ª–Ω—è—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∞–≤–∞ Linux (`chmod`).
- –ü–æ–∑–≤–æ–ª—è—é—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º –¥–ª—è **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–≥—Ä—É–ø–ø** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

---

### **2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É ACL**
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ACL:
```bash
mount | grep acl
```
–ï—Å–ª–∏ –≤ –≤—ã–≤–æ–¥–µ –µ—Å—Ç—å `acl` ‚Äî –≤—Å—ë –≥–æ—Ç–æ–≤–æ. –ï—Å–ª–∏ –Ω–µ—Ç, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É —Å –æ–ø—Ü–∏–µ–π `acl` (–≤ `/etc/fstab`).

---

### **3. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**
#### **–ü—Ä–æ—Å–º–æ—Ç—Ä ACL**
```bash
getfacl /–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É_–∏–ª–∏_–ø–∞–ø–∫–µ
```
–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
# file: myfolder
# owner: user
# group: group1
user::rwx
user:alex:r-x
group::r-x
group:developers:rwx
mask::rwx
other::r-x
```

---

#### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ (setfacl -m)**
**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```bash
setfacl -m <–ø—Ä–∞–≤–∏–ª–∞> /–ø—É—Ç—å/–∫/–æ–±—ä–µ–∫—Ç—É
```

**–ü—Ä–∏–º–µ—Ä—ã:**
1. –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é `alex` –ø—Ä–∞–≤–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å:
   ```bash
   setfacl -m u:alex:rw /–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É
   ```

2. –î–∞—Ç—å –≥—Ä—É–ø–ø–µ `developers` –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ (rwx):
   ```bash
   setfacl -m g:developers:rwx /–ø—É—Ç—å/–∫/–ø–∞–ø–∫–µ
   ```

3. –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é `john`:
   ```bash
   setfacl -m u:john:- /–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É
   ```

---

#### **–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ (setfacl -x)**
1. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `alex`:
   ```bash
   setfacl -x u:alex /–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É
   ```

2. –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∞ –¥–ª—è –≥—Ä—É–ø–ø—ã `developers`:
   ```bash
   setfacl -x g:developers /–ø—É—Ç—å/–∫/–ø–∞–ø–∫–µ
   ```

---

#### **–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (–¥–ª—è –ø–∞–ø–æ–∫)**
–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ (–≤–∫–ª—é—á–∞—è –ø–æ–¥–ø–∞–ø–∫–∏):
```bash
setfacl -R -m g:developers:rwx /–ø—É—Ç—å/–∫/–ø–∞–ø–∫–µ
```

---

#### **–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤ (default)**
–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã/–ø–∞–ø–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–ª–∏ ACL:
```bash
setfacl -d -m g:developers:rwx /–ø—É—Ç—å/–∫/–ø–∞–ø–∫–µ
```
- `-d` ‚Äî default (–ø—Ä–∞–≤–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤).

---

### **4. –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã**
- **–ú–∞—Å–∫–∞ (mask)** ‚Äî —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏/–≥—Ä—É–ø–ø—ã —á–µ—Ä–µ–∑ ACL.  
  –ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ –º–∞—Å–∫–∞ `r--`, —Ç–æ –¥–∞–∂–µ –µ—Å–ª–∏ –≤—ã –¥–∞–ª–∏ –≥—Ä—É–ø–ø–µ `rwx`, —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –±—É–¥—É—Ç `r--`.

- **–ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–∏–ª** ‚Äî ACL –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑, –ø–µ—Ä–≤–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.

---

### **5. –ü—Ä–∏–º–µ—Ä: –ö–∞–∫ –¥–∞—Ç—å –¥–æ—Å—Ç—É–ø –≥—Ä—É–ø–ø–µ –∫ –ø–∞–ø–∫–µ**
**–ó–∞–¥–∞—á–∞:**  
–†–∞–∑—Ä–µ—à–∏—Ç—å –≥—Ä—É–ø–ø–µ `project-team` —á–∏—Ç–∞—Ç—å, –ø–∏—Å–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `/data/project`.

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É:
   ```bash
   setfacl -R -m g:project-team:rwx /data/project
   ```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (—á—Ç–æ–±—ã –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Ç–æ–∂–µ –ø–æ–ª—É—á–∞–ª–∏ —ç—Ç–∏ –ø—Ä–∞–≤–∞):
   ```bash
   setfacl -d -R -m g:project-team:rwx /data/project
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   ```bash
   getfacl /data/project
   ```

---

### **6. –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ ACL?**
```bash
setfacl -b /–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É_–∏–ª–∏_–ø–∞–ø–∫–µ
```

---

### **7. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏**
- **–û—à–∏–±–∫–∞:** `setfacl: /path: Operation not supported`  
  **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å –æ–ø—Ü–∏–µ–π `acl`.

- **–û—à–∏–±–∫–∞:** –ü—Ä–∞–≤–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –Ω–æ–≤—ã–º —Ñ–∞–π–ª–∞–º.  
  **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `setfacl -d` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.
